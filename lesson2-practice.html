<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Lesson 2 — Self-Grading Review</title>
<style>
  :root{
    --bg:#f6fbff; --card:#ffffff; --accent:#2b9ed8; --accent-2:#56c596;
    --muted:#6b7280; --good:#16a34a; --bad:#dc2626;
  }
  body{
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    background: linear-gradient(180deg, #eef7fb 0%, #fcfeff 100%);
    color:#111827;
    margin:0; padding:32px;
  }
  .container{max-width:880px;margin:0 auto;}
  header{
    display:flex;align-items:center;gap:18px;margin-bottom:22px;
  }
  header h1{margin:0;font-size:20px;}
  header p{margin:0;color:var(--muted);}
  .card{background:var(--card);border-radius:12px;padding:20px;box-shadow:0 6px 20px rgba(13,38,59,0.06);margin-bottom:18px;}
  .question{margin-bottom:14px;padding:12px;border-radius:8px;border:1px solid #eef3f8;}
  .q-title{font-weight:600;margin-bottom:8px;}
  label{display:block;margin:6px 0;cursor:pointer;}
  input[type="text"]{width:100%;padding:8px;border-radius:6px;border:1px solid #d1dce7;}
  .controls{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px;}
  button{
    background:var(--accent);color:white;border:0;padding:10px 14px;border-radius:8px;cursor:pointer;
    font-weight:600;
  }
  button.secondary{background:transparent;color:var(--accent);border:1px solid #cfeaf9;}
  .result{padding:12px;border-radius:8px;margin-top:12px;}
  .correct{background:rgba(22,163,74,0.08);border-left:4px solid var(--good);color:var(--good);}
  .incorrect{background:rgba(220,38,38,0.06);border-left:4px solid var(--bad);color:var(--bad);}
  .score{font-size:18px;font-weight:700;}
  .feedback{font-size:14px;color:var(--muted);margin-top:6px;}
  .small{font-size:13px;color:var(--muted);}
  .answers{margin-top:12px;padding:12px;border-radius:8px;background:#fbfeff;border:1px dashed #e6f6fb;}
  .grid{display:grid;grid-template-columns:1fr 260px;gap:16px;}
  @media (max-width:760px){ .grid{grid-template-columns:1fr;} header{flex-direction:column;align-items:flex-start;} }
</style>
</head>
<body>
  <div class="container">
    <header>
      <div style="width:56px;height:56px;background:linear-gradient(135deg,var(--accent),var(--accent-2));border-radius:10px;display:flex;align-items:center;justify-content:center;color:white;font-weight:800;font-size:20px">L2</div>
      <div>
        <h1>Lesson 2 — Self-Grading Review: Viruses, Bacteria, Protists & Fungi</h1>
        <p class="small">10 questions • mixture of multiple-choice and short-answer • instant feedback</p>
      </div>
    </header>

    <div class="grid">
      <div class="card" id="quiz-area">
        <!-- Q1 -->
        <div class="question" data-q="q1">
          <div class="q-title">1. Which of the following is a defining feature of a eukaryotic cell?</div>
          <label><input type="radio" name="q1" value="a"> Has no nucleus</label>
          <label><input type="radio" name="q1" value="b"> Contains a nucleus</label>
          <label><input type="radio" name="q1" value="c"> Is always multicellular</label>
          <label><input type="radio" name="q1" value="d"> Can reproduce only inside another cell</label>
        </div>

        <!-- Q2 -->
        <div class="question" data-q="q2">
          <div class="q-title">2. True or False: Viruses are considered living organisms because they grow and use energy independently.</div>
          <label><input type="radio" name="q2" value="true"> True</label>
          <label><input type="radio" name="q2" value="false"> False</label>
        </div>

        <!-- Q3 -->
        <div class="question" data-q="q3">
          <div class="q-title">3. Short answer: List the three main steps of virus reproduction inside a host cell (brief phrases are fine).</div>
          <input type="text" name="q3" placeholder="e.g., inject genetic material; replicate; cell bursts">
        </div>

        <!-- Q4 -->
        <div class="question" data-q="q4">
          <div class="q-title">4. Which of these is a type of viral structure that specifically infects bacteria?</div>
          <label><input type="radio" name="q4" value="a"> Protozoan</label>
          <label><input type="radio" name="q4" value="b"> Bacteriophage</label>
          <label><input type="radio" name="q4" value="c"> Endospore</label>
          <label><input type="radio" name="q4" value="d"> Ribosome</label>
        </div>

        <!-- Q5 -->
        <div class="question" data-q="q5">
          <div class="q-title">5. Multiple choice: Which statement about bacteria is FALSE?</div>
          <label><input type="radio" name="q5" value="a"> Bacteria are prokaryotes (no nucleus).</label>
          <label><input type="radio" name="q5" value="b"> Some bacteria can make their own food from sunlight.</label>
          <label><input type="radio" name="q5" value="c"> Bacteria always require another cell to reproduce.</label>
          <label><input type="radio" name="q5" value="d"> Some bacteria form endospores to survive harsh conditions.</label>
        </div>

        <!-- Q6 -->
        <div class="question" data-q="q6">
          <div class="q-title">6. Short answer: What is binary fission?</div>
          <input type="text" name="q6" placeholder="One-sentence answer">
        </div>

        <!-- Q7 -->
        <div class="question" data-q="q7">
          <div class="q-title">7. Matching (choose one): Which term best matches this description — "thick-walled structure that allows bacteria to survive extreme conditions"?</div>
          <label><input type="radio" name="q7" value="a"> Endospore</label>
          <label><input type="radio" name="q7" value="b"> Pili</label>
          <label><input type="radio" name="q7" value="c"> Flagellum</label>
          <label><input type="radio" name="q7" value="d"> Capsid</label>
        </div>

        <!-- Q8 -->
        <div class="question" data-q="q8">
          <div class="q-title">8. Short answer: Why are vaccines important? (one or two short sentences)</div>
          <input type="text" name="q8" placeholder="e.g., prepare the immune system to fight a virus">
        </div>

        <!-- Q9 -->
        <div class="question" data-q="q9">
          <div class="q-title">9. Multiple choice: Which two domains/groups are prokaryotes? (pick the best answer)</div>
          <label><input type="radio" name="q9" value="a"> Eukarya and Archaea</label>
          <label><input type="radio" name="q9" value="b"> Archaea and Bacteria</label>
          <label><input type="radio" name="q9" value="c"> Protists and Fungi</label>
          <label><input type="radio" name="q9" value="d"> Bacteria and Eukarya</label>
        </div>

        <!-- Q10 -->
        <div class="question" data-q="q10">
          <div class="q-title">10. Short answer: How can bacterial populations become resistant to antibiotics? (brief)</div>
          <input type="text" name="q10" placeholder="e.g., genes spread via conjugation and resistant ones survive">
        </div>

        <div class="controls">
          <button id="gradeBtn">Grade My Answers</button>
          <button class="secondary" id="resetBtn" type="button">Reset</button>
          <button class="secondary" id="showAnswersBtn" type="button">Show Correct Answers</button>
        </div>

        <div id="resultsArea" aria-live="polite"></div>
      </div>

      <aside class="card">
        <h3 style="margin-top:0">Quick Review</h3>
        <ul style="line-height:1.6;color:var(--muted);padding-left:18px">
          <li><strong>Eukaryotes</strong> have a nucleus; <strong>prokaryotes</strong> (bacteria & archaea) do not.</li>
          <li><strong>Virus</strong> = nonliving particle that must use a <em>host</em> to reproduce.</li>
          <li>Virus reproduction: <em>inject genetic material → replicate → host cell bursts</em>.</li>
          <li><strong>Bacteria</strong> reproduce asexually by <em>binary fission</em>; exchange genes by <em>conjugation</em>.</li>
          <li><strong>Endospore</strong> — survival structure for bacteria in harsh conditions.</li>
          <li><strong>Vaccine</strong> — prepares immune system to resist a virus.</li>
        </ul>
        <div class="answers small">
          Tip: Short answer fields accept multiple wordings. Use key concepts/words (e.g., nucleus, inject genetic material, cell bursts, binary fission, endospore, conjugation).
        </div>
      </aside>
    </div>

    <footer style="margin-top:18px;text-align:center;color:var(--muted)" class="small">
      Built for Lesson 2 review — Viruses, Bacteria, Protists, and Fungi.
    </footer>
  </div>

<script>
(function(){
  // answer key and acceptable short-answer matches (lowercase)
  const KEY = {
    q1: 'b',
    q2: 'false',
    q3: ['inject','replicate','burst','inject genetic','replicate','cell bursts','make copies'],
    q4: 'b',
    q5: 'c', // false statement = "Bacteria always require another cell to reproduce." is false
    q6: ['cell divides into two','cell splits into two','one cell splits into two','one cell divides into two','asexual reproduction where one cell divides into two'],
    q7: 'a',
    q8: ['prepare','immune','prevent','help the body','prepare the immune','prepares the immune system'],
    q9: 'b',
    q10: ['conjugation','exchange','resist','resistance','genes','antibiotic resistant','spread resistance']
  };

  const gradeBtn = document.getElementById('gradeBtn');
  const resetBtn = document.getElementById('resetBtn');
  const showAnswersBtn = document.getElementById('showAnswersBtn');
  const resultsArea = document.getElementById('resultsArea');

  function textVal(name){
    const el = document.querySelector('[name="'+name+'"]');
    return el ? el.value.trim() : '';
  }

  function getTextInput(name){
    return document.querySelector('input[type="text"][name="'+name+'"]')?.value.trim() || '';
  }

  function checkShortAnswer(user, acceptedArr){
    if(!user) return false;
    const u = user.toLowerCase();
    // accept if any keyword phrase appears
    for (let a of acceptedArr){
      if(u.includes(a)) return true;
    }
    // also accept if multiple keywords present
    const tokens = ['inject','replicate','burst','divide','binary','conjug','immune','resist','genes','endospore'];
    let matches = 0;
    tokens.forEach(t => { if(u.includes(t)) matches++; });
    if(matches >= 2) return true;
    return false;
  }

  function grade(){
    resultsArea.innerHTML = ''; // clear
    let score = 0;
    let total = 10;
    // Q1
    const q1 = document.querySelector('input[name="q1"]:checked')?.value || '';
    renderResult('q1', q1 === KEY.q1, 'A eukaryotic cell contains a nucleus.');
    if(q1 === KEY.q1) score++;

    // Q2
    const q2 = document.querySelector('input[name="q2"]:checked')?.value || '';
    renderResult('q2', q2 === KEY.q2, 'Viruses are NOT considered living because they cannot grow or reproduce on their own.');
    if(q2 === KEY.q2) score++;

    // Q3 short
    const q3 = getTextInput('q3');
    const ok3 = checkShortAnswer(q3, KEY.q3);
    renderResult('q3', ok3, 'Main ideas: virus injects genetic material into host, host makes copies (replicates), cell bursts/releases viruses.');
    if(ok3) score++;

    // Q4
    const q4 = document.querySelector('input[name="q4"]:checked')?.value || '';
    renderResult('q4', q4 === KEY.q4, 'A bacteriophage infects bacteria.');
    if(q4 === KEY.q4) score++;

    // Q5
    const q5 = document.querySelector('input[name="q5"]:checked')?.value || '';
    renderResult('q5', q5 === KEY.q5, 'Bacteria do NOT always require another cell to reproduce; most reproduce by binary fission.');
    if(q5 === KEY.q5) score++;

    // Q6 short
    const q6 = getTextInput('q6');
    const ok6 = checkShortAnswer(q6, KEY.q6);
    renderResult('q6', ok6, 'Binary fission = one bacterial cell divides into two identical cells (asexual).');
    if(ok6) score++;

    // Q7
    const q7 = document.querySelector('input[name="q7"]:checked')?.value || '';
    renderResult('q7', q7 === KEY.q7, 'Endospore = tough survival structure.');
    if(q7 === KEY.q7) score++;

    // Q8 short
    const q8 = getTextInput('q8');
    const ok8 = checkShortAnswer(q8, KEY.q8);
    renderResult('q8', ok8, 'Vaccines prepare the immune system so it can resist infection and prevent disease.');
    if(ok8) score++;

    // Q9
    const q9 = document.querySelector('input[name="q9"]:checked')?.value || '';
    renderResult('q9', q9 === KEY.q9, 'Archaea and Bacteria are the prokaryotic domains.');
    if(q9 === KEY.q9) score++;

    // Q10 short
    const q10 = getTextInput('q10');
    const ok10 = checkShortAnswer(q10, KEY.q10);
    renderResult('q10', ok10, 'Resistance spreads when bacteria share resistance genes (e.g., conjugation) and resistant ones survive antibiotics.');
    if(ok10) score++;

    // final score
    const percent = Math.round((score/total)*100);
    const checkDiv = document.createElement('div');
    checkDiv.className = 'result ' + (percent>=70 ? 'correct' : 'incorrect');
    checkDiv.innerHTML = '<div class="score">Score: '+score+' / '+total+' ('+percent+'%)</div>' +
      '<div class="feedback">'+(percent>=70? 'Nice work! Review any red items above.' : 'Keep practicing — review the explanations for incorrect items.')+'</div>';
    resultsArea.prepend(checkDiv);

    // scroll to results
    checkDiv.scrollIntoView({behavior:'smooth'});
  }

  function renderResult(qid, isCorrect, explanation){
    const div = document.createElement('div');
    div.className = 'result ' + (isCorrect ? 'correct' : 'incorrect');
    div.innerHTML = '<strong>' + (isCorrect ? 'Correct' : 'Incorrect') + '</strong>' +
      '<div class="feedback">' + explanation + '</div>';
    resultsArea.appendChild(div);
  }

  gradeBtn.addEventListener('click', grade);

  resetBtn.addEventListener('click', function(){
    document.querySelectorAll('input[type="radio"]').forEach(i => i.checked = false);
    document.querySelectorAll('input[type="text"]').forEach(i => i.value = '');
    resultsArea.innerHTML = '';
  });

  showAnswersBtn.addEventListener('click', function(){
    // show correct answers in a simple modal-like block
    const answers = `
      <div style="line-height:1.6">
        <strong>Answer Key (quick):</strong>
        <ol>
          <li>Q1: B — Contains a nucleus (Eukaryote).</li>
          <li>Q2: False — Viruses are not considered living; they need a host to reproduce.</li>
          <li>Q3: inject genetic material → replicate (make copies) → host cell bursts/releases viruses.</li>
          <li>Q4: B — Bacteriophage.</li>
          <li>Q5: C — False statement is that bacteria always require another cell to reproduce (they reproduce by binary fission).</li>
          <li>Q6: Binary fission = one cell divides into two identical cells (asexual reproduction).</li>
          <li>Q7: A — Endospore.</li>
          <li>Q8: Vaccines prepare the immune system so the body can resist infection and avoid disease.</li>
          <li>Q9: B — Archaea and Bacteria (both prokaryotes).</li>
          <li>Q10: Bacterial resistance spreads when bacteria exchange resistance genes (e.g., conjugation) and resistant cells survive antibiotics.</li>
        </ol>
      </div>`;
    // display under results area
    const box = document.createElement('div');
    box.className = 'result';
    box.style.background = '#f8fdfa';
    box.style.borderLeft = '4px solid #56c596';
    box.innerHTML = answers;
    resultsArea.innerHTML = '';
    resultsArea.appendChild(box);
    box.scrollIntoView({behavior:'smooth'});
  });

})();
</script>
</body>
</html>
